(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2255f9"],{e3b7:function(t,e,n){"use strict";n.r(e);var c=n("f2bf"),a={id:"main",class:"main"},l={class:"pagetitle"},o={class:"box"},i={class:"selectbox"},u=Object(c["g"])("option",{value:"NONE"},"未審核",-1),s=Object(c["g"])("option",{value:"APPROVED"},"審核通過",-1),b=Object(c["g"])("option",{value:"REJECT"},"審核不通過",-1),r=[u,s,b],O={class:"tablebox"},j={class:"table-responsive"},d={class:"table table-bordered table-striped"},g=Object(c["g"])("th",null,"id",-1),p=Object(c["g"])("th",null,"姓名",-1),f=Object(c["g"])("th",null,"電話",-1),v=Object(c["g"])("th",null,"信箱",-1),m=Object(c["g"])("th",null,"自我介紹",-1),h=Object(c["g"])("th",null,"檔案",-1),C={key:0},k=["onClick"],N={key:0},w={class:"btnlist"},E=["onClick"],x=["onClick"],y={class:"pagebox"},z={class:"page-nav"},S={class:"pagination"},R=["onClick"];function T(t,e,n,u,s,b){var T=Object(c["x"])("Common");return Object(c["s"])(),Object(c["f"])(c["a"],null,[Object(c["i"])(T),Object(c["g"])("main",a,[Object(c["g"])("div",l,[Object(c["g"])("h1",null,Object(c["z"])(s.pageTitle),1)]),Object(c["g"])("div",o,[Object(c["g"])("div",i,[Object(c["E"])(Object(c["g"])("select",{name:"approvalStatus",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=function(t){return s.approvalStatus=t}),onChange:e[1]||(e[1]=function(){return b.selectValue&&b.selectValue.apply(b,arguments)})},r,544),[[c["B"],s.approvalStatus]])]),Object(c["g"])("div",O,[Object(c["g"])("div",j,[Object(c["g"])("table",d,[Object(c["g"])("thead",null,[Object(c["g"])("tr",null,[g,p,f,v,m,h,"NONE"==s.approvalStatus?(Object(c["s"])(),Object(c["f"])("th",C,"審核")):Object(c["e"])("",!0)])]),Object(c["g"])("tbody",null,[(Object(c["s"])(!0),Object(c["f"])(c["a"],null,Object(c["w"])(s.result,(function(t,e){return Object(c["s"])(),Object(c["f"])("tr",{key:e},[Object(c["g"])("td",null,Object(c["z"])(t.id),1),Object(c["g"])("td",null,Object(c["z"])(t.lastName)+Object(c["z"])(t.firstName),1),Object(c["g"])("td",null,"(+"+Object(c["z"])(t.countryCode)+") "+Object(c["z"])(t.mobile),1),Object(c["g"])("td",null,Object(c["z"])(t.email),1),Object(c["g"])("td",null,Object(c["z"])(t.introduction),1),Object(c["g"])("td",null,[Object(c["g"])("a",{href:"javascript:void(0)",class:"btn btn-outline-primary",onClick:function(e){return b.downloadClick(t.id,t.email)}},"下載檔案",8,k)]),"NONE"==s.approvalStatus?(Object(c["s"])(),Object(c["f"])("td",N,[Object(c["g"])("ul",w,[Object(c["g"])("li",null,[Object(c["g"])("a",{href:"javascript:void(0)",class:"btn btn-success",onClick:function(e){return b.audit(t.id,"APPROVED")}},"通過",8,E)]),Object(c["g"])("li",null,[Object(c["g"])("a",{href:"javascript:void(0)",class:"btn btn-danger",onClick:function(e){return b.audit(t.id,"REJECT")}},"不通過",8,x)])])])):Object(c["e"])("",!0)])})),128))])])])]),Object(c["g"])("div",y,[Object(c["g"])("nav",z,[Object(c["g"])("ul",S,[(Object(c["s"])(!0),Object(c["f"])(c["a"],null,Object(c["w"])(s.pageNum,(function(t,e){return Object(c["s"])(),Object(c["f"])("li",{class:Object(c["o"])(["page-item",s.page==t?"active":""]),key:e},[Object(c["g"])("a",{class:"page-link",href:"javascript:void(0)",onClick:function(e){return b.getList(s.approvalStatus,t-1)}},Object(c["z"])(t),9,R)],2)})),128))])])])])])],64)}var B=n("d089"),V=n("7f46"),L={name:"AdminList",metaInfo:function(){return{meta:[{name:"keywords",content:"Zoom"}]}},components:{Common:B["a"]},data:function(){return{pageTitle:this.$route.meta.title,approvalStatus:"NONE",result:[],total:0,pageNum:0,page:1}},methods:{dialog:function(t,e){var n=this;return n.$swal({title:"",text:t,icon:e,showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#dd3333",confirmButtonText:"確定",cancelButtonText:"取消"})},getList:function(t,e){var n=this;n.page=e+1,Object(V["c"])(t,e,10).then((function(t){var e=t.data;"0000"==e.returnCode&&(n.result=e.result.content,n.total=e.result.total,n.pageNum=Math.ceil(n.total/10))})).catch((function(t){"ERR_NETWORK"!=t.code&&403!=t.response.status||n.dialog("您沒有權限唷，請找開發人員。","error").then((function(t){t.isConfirmed&&(location.href="https://kol2022.pixnet.net/#/")}))}))},downloadClick:function(t,e){Object(V["b"])(t,e)},selectValue:function(){var t=this;t.getList(t.approvalStatus,0)},audit:function(t,e){var n=this;Object(V["a"])(t,e).then((function(t){var e=t.data;"0000"==e.returnCode?n.dialog("更新成功","success").then((function(t){t.isConfirmed&&location.reload()})):n.dialog("目前網路環境不穩定，請檢查相關設定。","error")}))}},setup:function(){},mounted:function(){var t=this;t.getList(t.approvalStatus,0)},updated:function(){}},J=n("6b0d"),P=n.n(J);const A=P()(L,[["render",T]]);e["default"]=A}}]);
//# sourceMappingURL=chunk-2d2255f9.c3ae3c46.js.map