{"version":3,"sources":["webpack:///./src/views/Admin/List.vue","webpack:///./src/views/Admin/List.vue?7b73"],"names":["id","class","_createElementVNode","value","_hoisted_5","_hoisted_6","_hoisted_7","_createVNode","_component_Common","_toDisplayString","$data","name","$event","onChange","$options","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_createElementBlock","_hoisted_18","_Fragment","_renderList","item","index","key","lastName","firstName","countryCode","mobile","email","introduction","href","onClick","_hoisted_19","_hoisted_20","_hoisted_22","_hoisted_23","_hoisted_27","metaInfo","meta","content","components","Common","data","pageTitle","this","$route","title","approvalStatus","result","total","pageNum","page","methods","dialog","dataText","dataIcon","vm","$swal","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","getList","dataApprovalStatus","dataPage","registrationList","then","res","tmpData","returnCode","Math","ceil","catch","err","code","response","status","isConfirmed","location","downloadClick","dataId","dataEmail","downloadFile","selectValue","audit","changeStatus","reload","setup","mounted","updated","__exports__","render"],"mappings":"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","file":"js/chunk-2d2255f9.c3ae3c46.js","sourcesContent":["<template>\n  <Common />\n  <main id=\"main\" class=\"main\">\n    <div class=\"pagetitle\">\n      <h1>{{pageTitle}}</h1>\n    </div>\n    <div class=\"box\">\n      <div class=\"selectbox\">\n        <select name=\"approvalStatus\" class=\"form-control\" v-model=\"approvalStatus\" @change=\"selectValue\">\n          <option value=\"NONE\">未審核</option>\n          <option value=\"APPROVED\">審核通過</option>\n          <option value=\"REJECT\">審核不通過</option>\n        </select>\n      </div>\n      <div class=\"tablebox\">\n        <div class=\"table-responsive\">\n          <table class=\"table table-bordered table-striped\">\n            <thead>\n              <tr>\n                <th>id</th>\n                <th>姓名</th>\n                <th>電話</th>\n                <th>信箱</th>\n                <th>自我介紹</th>\n                <th>檔案</th>\n                <th v-if=\"approvalStatus == 'NONE'\">審核</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(item, index) in result\" :key=\"index\">\n                <td>{{item.id}}</td>\n                <td>{{ item.lastName }}{{ item.firstName }}</td>\n                <td>(+{{item.countryCode}}) {{item.mobile}}</td>\n                <td>{{item.email}}</td>\n                <td>{{item.introduction}}</td>\n                <td><a href=\"javascript:void(0)\" class=\"btn btn-outline-primary\" @click=\"downloadClick(item.id,item.email)\">下載檔案</a></td>\n                <td v-if=\"approvalStatus == 'NONE'\">\n                  <ul class=\"btnlist\">\n                    <li><a href=\"javascript:void(0)\" class=\"btn btn-success\" @click=\"audit(item.id,'APPROVED')\">通過</a></li>\n                    <li><a href=\"javascript:void(0)\" class=\"btn btn-danger\" @click=\"audit(item.id,'REJECT')\">不通過</a></li>\n                  </ul>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n      <div class=\"pagebox\">\n        <nav class=\"page-nav\">\n          <ul class=\"pagination\">\n            <li class=\"page-item\" :class=\"page == item ? 'active' : ''\" v-for=\"(item, index) in pageNum\" :key=\"index\"><a class=\"page-link\" href=\"javascript:void(0)\" @click=\"getList(approvalStatus,(item - 1))\">{{item}}</a></li>\n          </ul>\n        </nav>\n      </div>\n    </div>\n  </main>\n</template>\n\n<script>\nimport Common from '@/components/Admin/Common';\nimport { registrationList, downloadFile, changeStatus } from '@/apis/campaignAdmin';\n\nexport default {\n  name: 'AdminList',\n  metaInfo() {\n    return {\n      meta: [{\n        name: 'keywords',\n        content: 'Zoom'\n      }]\n    }\n  },\n  components: {\n    Common\n  },\n  data() {\n    return {\n      pageTitle: this.$route.meta.title,\n      approvalStatus:\"NONE\",\n      result:[],\n      total:0,\n      pageNum:0,\n      page:1\n    }\n  },\n  methods: {\n    dialog(dataText,dataIcon) {\n      let vm = this;\n      return vm.$swal({\n        title: \"\",\n        text: dataText,\n        icon: dataIcon,\n        showCancelButton: false,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#dd3333',\n        confirmButtonText: '確定',\n        cancelButtonText: '取消'\n      });\n    },\n    getList(dataApprovalStatus,dataPage) {\n      let vm = this;\n      vm.page = dataPage + 1;\n      registrationList(dataApprovalStatus,dataPage,10).then(res => {\n        let tmpData = res.data;\n        if(tmpData.returnCode == '0000'){\n          vm.result = tmpData.result.content;\n          vm.total = tmpData.result.total;\n          vm.pageNum = Math.ceil(vm.total/10);\n        }\n      }).catch(err => {\n        if(\"ERR_NETWORK\" == err.code || 403 == err.response.status){\n          vm.dialog('您沒有權限唷，請找開發人員。','error').then((result) => {\n            if (result.isConfirmed) {\n              location.href = 'https://kol2022.pixnet.net/#/';\n            }\n          });\n        }\n      });\n    },\n    downloadClick(dataId,dataEmail) {\n      downloadFile(dataId,dataEmail);\n    },\n    selectValue() {\n      let vm = this;\n      vm.getList(vm.approvalStatus,0);\n    },\n    audit(dataId,dataApprovalStatus){\n      let vm = this;\n      changeStatus(dataId,dataApprovalStatus).then(res => {\n        let tmpData = res.data;\n        if(tmpData.returnCode == '0000') {\n          vm.dialog('更新成功','success').then((result) => {\n            if (result.isConfirmed) {\n              location.reload();\n            }\n          });\n        } else {\n          vm.dialog('目前網路環境不穩定，請檢查相關設定。','error');\n        }\n      });\n    }\n  },\n  setup() {},\n  mounted() {\n    let vm = this;\n    vm.getList(vm.approvalStatus,0);\n  },\n  updated() {}\n}\n</script>\n","import { render } from \"./List.vue?vue&type=template&id=6046575e\"\nimport script from \"./List.vue?vue&type=script&lang=js\"\nexport * from \"./List.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/n2120008436/Documents/Website/metrosexual_admin/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}